{
  "version": 3,
  "sources": ["../bundle-AC2AHR/checked-fetch.js", "../../../node_modules/fountain-js/src/rules.ts", "../../../node_modules/fountain-js/src/utilities.ts", "../../../node_modules/fountain-js/src/token.ts", "../../../node_modules/fountain-js/src/lexer.ts", "../../../node_modules/fountain-js/src/fountain.ts", "../../../dist/theme.ts", "../../../dist/icons.ts", "../../../dist/worker.ts", "../../../node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts", "../../../node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts", "../bundle-AC2AHR/middleware-insertion-facade.js", "../../../node_modules/wrangler/templates/middleware/common.ts", "../bundle-AC2AHR/middleware-loader.entry.ts"],
  "sourceRoot": "/Users/andy/projects/tether/web/.wrangler/tmp/dev-dm8PNR",
  "sourcesContent": ["const urls = new Set();\n\nfunction checkURL(request, init) {\n\tconst url =\n\t\trequest instanceof URL\n\t\t\t? request\n\t\t\t: new URL(\n\t\t\t\t\t(typeof request === \"string\"\n\t\t\t\t\t\t? new Request(request, init)\n\t\t\t\t\t\t: request\n\t\t\t\t\t).url\n\t\t\t\t);\n\tif (url.port && url.port !== \"443\" && url.protocol === \"https:\") {\n\t\tif (!urls.has(url.toString())) {\n\t\t\turls.add(url.toString());\n\t\t\tconsole.warn(\n\t\t\t\t`WARNING: known issue with \\`fetch()\\` requests to custom HTTPS ports in published Workers:\\n` +\n\t\t\t\t\t` - ${url.toString()} - the custom port will be ignored when the Worker is published using the \\`wrangler deploy\\` command.\\n`\n\t\t\t);\n\t\t}\n\t}\n}\n\nglobalThis.fetch = new Proxy(globalThis.fetch, {\n\tapply(target, thisArg, argArray) {\n\t\tconst [request, init] = argArray;\n\t\tcheckURL(request, init);\n\t\treturn Reflect.apply(target, thisArg, argArray);\n\t},\n});\n", null, null, null, null, null, "export const themes = {\n  dark: {\n    name: 'dark',\n    bg: '#1a1a1a',\n    text: '#e8e8e8',\n    textDim: 'rgba(232, 232, 232, 0.5)',\n    accent: '#00aaff',\n    border: 'rgba(255, 255, 255, 0.1)',\n    navBg: 'rgba(0, 0, 0, 0.6)',\n    navBorder: 'rgba(255, 255, 255, 0.15)',\n    navHoverBg: 'rgba(0, 170, 255, 0.2)',\n  },\n  light: {\n    name: 'light',\n    bg: '#f5f5f0',\n    text: '#1a1a1a',\n    textDim: 'rgba(26, 26, 26, 0.5)',\n    accent: '#0077cc',\n    border: 'rgba(0, 0, 0, 0.1)',\n    navBg: 'rgba(255, 255, 255, 0.8)',\n    navBorder: 'rgba(0, 0, 0, 0.15)',\n    navHoverBg: 'rgba(0, 119, 204, 0.1)',\n  },\n} as const;\n\nexport type Theme = typeof themes.dark;\nexport type ThemeName = keyof typeof themes;\n\nexport function generateThemeCSS(theme: Theme): string {\n  return `\n    --bg: ${theme.bg};\n    --text: ${theme.text};\n    --text-dim: ${theme.textDim};\n    --accent: ${theme.accent};\n    --border: ${theme.border};\n    --nav-bg: ${theme.navBg};\n    --nav-border: ${theme.navBorder};\n    --nav-hover-bg: ${theme.navHoverBg};\n  `;\n}\n\nexport function generateAllThemesCSS(): string {\n  return `\n    :root, [data-theme=\"dark\"] {\n      ${generateThemeCSS(themes.dark)}\n    }\n\n    [data-theme=\"light\"] {\n      ${generateThemeCSS(themes.light)}\n    }\n  `;\n}\n", "// Lucide icons - inline SVGs for the worker\n\nexport const icons = {\n  sun: `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><circle cx=\"12\" cy=\"12\" r=\"4\"/><path d=\"M12 2v2\"/><path d=\"M12 20v2\"/><path d=\"m4.93 4.93 1.41 1.41\"/><path d=\"m17.66 17.66 1.41 1.41\"/><path d=\"M2 12h2\"/><path d=\"M20 12h2\"/><path d=\"m6.34 17.66-1.41 1.41\"/><path d=\"m19.07 4.93-1.41 1.41\"/></svg>`,\n\n  moon: `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><path d=\"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401\"/></svg>`,\n\n  eclipse: `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><circle cx=\"12\" cy=\"12\" r=\"10\"/><path d=\"M12 2a7 7 0 1 0 10 10\"/></svg>`,\n\n  chevronLeft: `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><path d=\"m15 18-6-6 6-6\"/></svg>`,\n\n  chevronRight: `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><path d=\"m9 18 6-6-6-6\"/></svg>`,\n};\n", "import { Fountain } from 'fountain-js';\nimport { generateAllThemesCSS } from './theme';\nimport { icons } from './icons';\n\n// Episode registry - add new episodes here\nconst EPISODES: { slug: string; file: string; title: string }[] = [\n  { slug: '01', file: 'episode-01-the-return.fountain', title: 'Episode 1: The Return' },\n];\n\n// Fountain files are embedded at build time\nconst SCREENPLAYS: Record<string, string> = {\n  'episode-01-the-return.fountain': `Title: TETHER\nCredit: Episode 1\nAuthor: Created for Tether Productions\nDraft date: January 2026\n\n====\n\nFADE IN:\n\nINT. THE LIMINAL - CREW QUARTERS - DEEP SPACE\n\nDARKNESS. Then--\n\nThe soft PING of a ship's system waking up. Status lights blink to life in sequence, casting blue-green shadows across a cramped bunk.\n\nKAEL VASARO (mid-40s) lies on his back, eyes closed. His face is weathered but not hard--more tired than bitter. Graying hair, disheveled, poorly cut. The kind of man who stopped caring about appearances around the same time he stopped caring about most things.\n\nHe doesn't move. The ship HUM surrounds him like a blanket.\n\nLIMINAL (V.O.)\n(ship AI, female, flat)\nTransit complete. Kepler Station approach confirmed. Docking window in forty-three minutes.\n\nAnother PING. More insistent.\n\nKael's eyes open. He stares at the ceiling--metal panels covered in twenty years of modifications. Cable runs. Personal touches. A photograph tucked into a joint seam, too faded to read from here.\n\nHe exhales. Not a sigh--just breathing. The first breath of another day that doesn't require anything from him.\n\nA grunt. He sits up slowly. Every joint in his body protests. He ignores it.\n\nThe quarters are TIGHT. A bunk barely wide enough for his shoulders. Storage compartments built into every surface. A fold-down desk with a console. Everything within arm's reach.\n\nTwenty years on this ship. Twenty years of wear patterns. Twenty years of making this space HIS.\n\nKael swings his legs off the bunk. His bare feet touch the deck plating--cold metal, familiar. The HUM rises through his soles.\n\nHe reaches for a COFFEE MAKER mounted to the wall. It's been repaired so many times the original parts are probably outnumbered. He hits a button. It GURGLES and HISSES, then produces something approximately like coffee.\n\nHe drinks it standing. Staring at nothing.\n\nThe coffee maker falls silent. The HUM remains--always the HUM.\n\nLIMINAL (V.O.)\nAtmospheric recycling at optimal--\n\nKAEL\nMute.\n\nSilence. Just the HUM and the VOID it fills.\n\nINT. THE LIMINAL - COCKPIT - CONTINUOUS\n\nKael moves forward through the narrow corridor. The cockpit is small but functional--pilot's chair, nav console, wide viewport.\n\nThrough the glass: STARS. Endless. And in the distance, growing larger, the rotating ring of KEPLER STATION. Gray metal against black void. Running lights blinking. Ships dotting the approaches like fireflies.\n\nKael settles into the pilot's chair. It's molded to his body after two decades.\n\nLIMINAL (V.O.)\nDocking beacon acquired. Lane assignment: Berth 17-C.\n\nKAEL\n(flat)\nAccepted.\n\nHis voice is rough from disuse. He doesn't talk much.\n\nThe station grows in the viewport. A pit stop. Fuel, supplies, and gone.\n\nEXT. KEPLER STATION - DOCKING ARM - LATER\n\nThe Liminal slides into her berth. DOCKING CLAMPS engage with a solid THUNK. Umbilicals extend and connect--power, data, atmo.\n\nThe ship settles. Goes quiet.\n\nINT. THE LIMINAL - AIRLOCK - CONTINUOUS\n\nKael stands at the inner door, waiting for pressure equalization. He's dressed now--practical spacer clothes. Worn jacket, navy blue pants, boots that have seen a thousand station decks. A SIDEARM on his hip, holstered but visible. Normal out here.\n\nHe reaches toward a small port near the inner door. Unplugs something. Slips it onto his wrist--an unremarkable metal bracelet.\n\nThe airlock CYCLES. The outer door opens.\n\nINT. KEPLER STATION - DOCK CORRIDOR - CONTINUOUS\n\nKael steps out into the station.\n\nThe difference is immediate. A draft of recycled air. Distant mechanical noise. The sterile hum of a place built for function, not comfort.\n\nThe dock corridor stretches ahead--wide, clinical, busy in its own way:\n\n-- CARGO BOTS roll past, their chassis scratched and dented. Some move in formation. Others navigate solo, weaving around obstacles.\n\n-- SHIPS of various sizes fill the visible berths. A battered freighter getting its hull patched. A sleek courier vessel with engine panels open. A salvage rig that looks like it was assembled from three different ships.\n\n-- PEOPLE. Dock workers in coveralls. Pilots in flight suits. Merchants. Mechanics. Drifters. Everyone has somewhere to be.\n\n-- MORE BOTS THAN PEOPLE. Service units polishing viewport glass. Maintenance drones crawling along cable runs overhead. Delivery bots weaving between legs. The human-to-machine ratio tilted heavily toward machine.\n\nKael walks. Not fast, not slow. He moves through the crowd without touching anyone--a skill developed over years. His eyes track everything without focusing on anything.\n\nA CLEANING BOT crosses his path, scrubbing a fuel stain from the deck. He steps around it without slowing.\n\nMARKET STALLS line the corridor walls. Synthetic protein in various shapes. Hydroponic vegetables. Stimulants. Questionable electronics. A man selling \"genuine Earth artifacts\" that are obviously printed fakes.\n\nThe AIR smells like recycled atmo, machine oil, and something cooking with too much spice. The station's ventilation hums overhead, a constant bass note beneath the chaos.\n\nKael passes a NEWS DISPLAY mounted to a pillar. A talking head mouths silently--some political story. He doesn't look.\n\nEXT. KEPLER STATION - REPAIR BAY 12 - CONTINUOUS\n\nA workshop space open to the dock corridor. Tools hanging on pegboards. Ship components on workbenches. The organized chaos of people who know where everything is.\n\nTOMAS (50s, barrel-chested, practical) is elbow-deep in an engine housing. His husband YUKI (50s, lean, patient face, graying temples) works at a diagnostic console nearby.\n\nKael approaches. Tomas looks up. His face splits into a grin.\n\nTOMAS\nVasaro. You look like shit.\n\nKAEL\nLong haul.\n\nTomas wipes his hands on a rag.\n\nTOMAS\nWhere from?\n\nKAEL\nBelt. The far side.\n\nYUKI\n(without looking up)\nThe Liminal holding up?\n\nKAEL\nAlways does.\n\nTOMAS\nGot a coupling that'd fit your starboard thruster.\n\nKael raises an eyebrow slightly. Waiting.\n\nTOMAS (CONT'D)\nFell off a transport. Legally.\n\nKAEL\nHow much?\n\nTOMAS\nFor you? Cost plus ten.\n\nKAEL\nI'll think about it.\n\nYUKI\n(still not looking up)\nYou always think about it. Then you buy it.\n\nKael almost smiles. ALMOST. The corner of his mouth twitches, nothing more.\n\nTOMAS\nYou eating?\n\nKAEL\nGetting to it.\n\nTOMAS\nMing's is good today. The noodles.\n\nKael nods. A minimal acknowledgment. This is the extent of his social interaction--brief, transactional, but not cold. There's familiarity here. The comfortable shorthand of people who've known each other for years without ever becoming friends.\n\nHe moves on.\n\nEXT. KEPLER STATION - FOOD STALL CORRIDOR - CONTINUOUS\n\nA narrow passage lined with cooking stations. Steam and smoke. The SIZZLE of protein on hot metal. VENDORS calling out in multiple languages.\n\nKael stops at a stall run by an OLD WOMAN with cybernetic eyes. Her movements are precise despite her age. She's cooking something unidentifiable--meat, probably. It smells good enough.\n\nOLD WOMAN\nThe usual?\n\nKael nods.\n\nShe works fast. Skewered protein, some kind of sauce, wrapped in synthetic bread. She hands it to him. He pays with a tap of his wrist.\n\nOLD WOMAN (CONT'D)\nYou're back soon.\n\nKAEL\nNeeded supplies.\n\nOLD WOMAN\nDon't we all.\n\nHe takes his food. Eats it walking. The protein is chewy, overseasoned, exactly what he expected. It's fine. Fine is enough.\n\nEXT. KEPLER STATION - OBSERVATION DECK - CONTINUOUS\n\nA small platform with a viewport looking out at the station's exterior. Ships coming and going. The distant glow of the belt.\n\nKael stands here, finishing his food. Watching.\n\nA FAMILY passes behind him. Two adults, two kids. The kids are arguing about something. The parents look tired. Normal life. Normal problems.\n\nKael watches them go. His face reveals nothing.\n\nA SECURITY BOT rolls past, SCANNING faces. Its red eye lingers on Kael for a moment, then moves on. Nothing flagged. He's not interesting.\n\nHe finishes eating. Balls up the wrapper. Drops it in a recycler.\n\nHeads back to his ship.\n\nINT. THE LIMINAL - COCKPIT - LATER\n\nKael settles back into his chair. The familiar embrace.\n\nHe pulls up the JOB BOARD on his console. Listings scroll past:\n\n-- \"Cargo run to Titan Station - 4 weeks - Standard rate\"\n-- \"Salvage claim dispute escort - Combat certification required\"\n-- \"Medical supplies to Belt Colony 7 - Priority transit\"\n-- \"Data courier - Origin: Earth - Destination: Classified\"\n\nHe scrolls. Stops on one.\n\nLISTING (ON SCREEN)\n\"Mineral samples - Kepler to Ceres Outpost. 3 weeks transit. Rate: 12,000 credits. No questions.\"\n\nGood enough. He accepts it. The confirmation pings.\n\nLIMINAL (V.O.)\nRoute calculation initiated. Estimated transit time: 19 days, 4 hours.\n\nKAEL\nStart it.\n\nWhile the nav computer works, he pulls up a secondary display. Tabs through options. Lands on: NEWS FEED.\n\nHe doesn't know why he does it. He never does. Habit, maybe. Or masochism.\n\nINT. THE LIMINAL - COCKPIT - CONTINUOUS\n\nThe feed fills his screen. Talking heads. Graphics. The endless churn.\n\nHEADLINE CRAWLER: \"LOCKE CAMPAIGN IN FREEFALL AFTER FUNDING REVELATIONS\"\n\nKael's eyes flick to the story. A VIDEO plays:\n\nVANESSA LOCKE (50s, composed, professional) stands at a podium. She looks tired. The kind of tired that comes from defending yourself against attacks from every direction.\n\nNEWS ANCHOR (V.O.)\n(from the feed)\nIndependent candidate Vanessa Locke suspended her campaign today amid escalating allegations of financial impropriety--\n\nKael taps to another channel. Different talking head. Different angle.\n\nNEWS ANCHOR 2 (V.O.)\n--the progressive coalition has called for a full investigation into what they're calling \"a shocking betrayal of stated values\"--\n\nAnother tap. Another channel.\n\nNEWS ANCHOR 3 (V.O.)\n--conservative groups are demanding accountability, citing Locke's alleged ties to globalist banking interests--\n\nKael's jaw tightens slightly. He taps through more feeds:\n\nPROGRESSIVE FEED: \"LOCKE EXPOSED: Dark money ties reveal centrist fraud\"\n\nCONSERVATIVE FEED: \"LOCKE UNMASKED: Woke agenda funded by offshore elites\"\n\nINDEPENDENT FEED: \"ATTACK COORDINATION: Same story, opposite spins, simultaneous release\"\n\nSame footage. Same woman. Different villains depending on who's watching.\n\nKael stares at the screen. His expression doesn't change, but something behind his eyes does. A familiar disappointment. The bone-deep weariness of someone who expected nothing and is still let down.\n\nKAEL\n(barely audible)\nYeah.\n\nHe closes the political feeds. Scrolls past them. Station updates. Shipping manifests. Celebrity gossip. An ad for memory enhancement implants.\n\nThe usual churn.\n\nThen--\n\nHe stops scrolling.\n\nHEADLINE (ON SCREEN)\n\"Federal Auditor Dies in New Francisco Apartment Fire. Twin Sister Survived.\"\n\nKael stares at it.\n\nHis finger hovers over the screen.\n\nCLOSE ON his eyes. Something flickering. The smallest crack in the wall.\n\nHe taps the story.\n\nINT. THE LIMINAL - COCKPIT - CONTINUOUS\n\nThe article expands:\n\nTEXT (ON SCREEN)\n\"...Federal Accounts Division employee found deceased following residential fire in the Tenderloin district of New Francisco. The cause of the blaze remains under investigation. The victim's twin sister, who was present at the time, escaped with minor injuries and is cooperating with authorities...\"\n\nNo name in the headline. \"Federal Accounts Division.\" \"New Francisco district.\" \"Twin sister.\"\n\nKael's face is very still.\n\nKAEL\n(quiet)\nNo.\n\nHe searches. Types quickly: \"Federal Accounts Division New Francisco employees.\"\n\nResults populate. He scrolls through faces, names, departments.\n\nStops on one.\n\nMARCUS OYELARAN. The photo shows a man about Kael's age. Thoughtful eyes. The kind of face that doesn't give much away. The bio lists: \"Senior Auditor, Federal Accounts Division, Western Region.\"\n\nKael stares at the photo.\n\nFLASHBACK - QUICK CUTS:\n\n-- TEXT on a screen: \"You awake?\" \"Yeah. Can't sleep.\" \"Same. What time is it there?\" \"Late.\"\n\n-- A voice message, MARCUS's voice: \"Called about the thing. They're stonewalling. Surprise surprise.\"\n\n-- Another text exchange: \"You ever think about just... leaving?\" \"And do what? Federal auditing doesn't exactly transfer to the belt colonies. All I know is spreadsheets and fraud patterns.\"\n\n-- A later message, Marcus again: \"Besides. Dad's latest scheme fell apart. Again. Someone's gotta help Mom keep the lights on. Not all of us are as free as you.\"\n\nBACK TO PRESENT:\n\nKael's hand is trembling slightly. He steadies it.\n\nLIMINAL (V.O.)\nRoute calculation complete. Ready to depart.\n\nKael doesn't move.\n\nHe reads the article again. \"Apartment fire.\" \"Cause under investigation.\" \"Twin sister survived.\"\n\nHis jaw works. Something building behind the stillness.\n\nLIMINAL (V.O.)\nAwaiting departure confirmation.\n\nKael reaches for the console. His finger hovers over the \"Confirm\" button.\n\nHe doesn't press it.\n\nInstead, he opens the nav system. Cancels the job.\n\nLIMINAL (V.O.)\nJob canceled. Penalty fee applied to account.\n\nKael ignores it. He's already typing a new destination.\n\nNEW DESTINATION (ON SCREEN): EARTH - NEW FRANCISCO APPROACH - PRIORITY TRANSIT\n\nLIMINAL (V.O.)\nWarning: Earth transit requires current documentation and landing permits. Your credentials have not been updated in--\n\nKAEL\nOverride.\n\nLIMINAL (V.O.)\nCalculating priority route. Estimated transit: 11 days.\n\nKAEL\nDo it.\n\nHe hits the release sequence. The docking clamps DISENGAGE.\n\nEXT. KEPLER STATION - DOCKING ARM - CONTINUOUS\n\nThe Liminal pulls away from the berth. Umbilicals disconnect and retract. The ship pivots, nose orienting toward the void.\n\nINT. THE LIMINAL - COCKPIT - CONTINUOUS\n\nKael watches the station shrink in the viewport.\n\nHis face is stone. But his eyes--his eyes are burning.\n\nKAEL\n(quiet)\nWhat did you find, Marcus?\n\nEXT. SPACE - CONTINUOUS\n\nThe Liminal accelerates. Her engines flare bright, then brighter.\n\nKepler Station dwindles behind her. The ship becomes a point of light, streaking toward the distant inner system.\n\nToward Earth.\n\nToward something Kael swore he'd never face again.\n\nTITLE CARD:\n\nT E T H E R\n\nThe title BURNS IN, then FADES slowly as the ship's light disappears into the black.\n\nFADE TO:\n\nINT. THE LIMINAL - COCKPIT - LATER (TRAVEL MONTAGE)\n\nSERIES OF SHOTS showing the passage of time:\n\n-- Kael at the nav console, checking trajectory.\n\n-- Kael eating alone, staring at the viewport.\n\n-- The stars shifting as the ship changes orientation.\n\n-- Kael in his bunk, eyes open, unable to sleep.\n\n-- The coffee maker producing its approximation of coffee.\n\n-- Kael exercising in the cargo bay--pull-ups on an overhead beam. Mechanical. Routine.\n\n-- Earth growing larger in the viewport. Day by day.\n\n-- Kael cleaning his sidearm. Checking the chamber. Holstering it.\n\n-- The blue marble of Earth, now filling half the viewport. Clouds. Continents. City lights on the night side like a disease spreading across the surface.\n\nLIMINAL (V.O.)\nApproaching Earth orbital space. Traffic control handoff initiated.\n\nKael straightens in his chair.\n\nLIMINAL (V.O.)\nBe advised: Documentation check required at orbital checkpoint.\n\nKAEL\nWhat's our status?\n\nLIMINAL (V.O.)\nYour credentials show last planetary landing: twenty years, three months, seven days ago. System flagged for manual review.\n\nKAEL\nAnd?\n\nLIMINAL (V.O.)\nReview completed. Landing permit approved. Note attached: \"Welcome back.\"\n\nKael says nothing. Welcome back. The two least appropriate words in any language.\n\nEXT. EARTH ORBIT - CONTINUOUS\n\nThe Liminal slides past a massive ORBITAL STATION--a hub of arriving and departing traffic. Cargo vessels. Passenger transports. Luxury shuttles. Military corvettes on patrol.\n\nThe ship is SCANNED by multiple sensor arrays. Running lights flash. Transponder exchanges happen automatically.\n\nAnd then--the planet.\n\nEarth hangs in the viewport. Blue and white and green and brown. Beautiful from here. Almost peaceful.\n\nKael stares at it.\n\nKAEL\n(quiet, to himself)\nThere it is.\n\nThe Liminal angles toward the atmosphere.\n\nEXT. EARTH - ATMOSPHERIC ENTRY - CONTINUOUS\n\nThe ship SHUDDERS as it hits the upper atmosphere. Friction paints the hull in orange and red. The ROAR of entry builds, peaks, then fades as the vessel drops into thicker air.\n\nBelow: the North American western coast. The sprawl of the megalopolis that used to be separate cities--now one continuous urban mass from old Seattle to old San Diego.\n\nNEW FRANCISCO rises from the heart of it. Towers reaching toward orbit. A forest of metal and glass and LED billboards. Flying vehicles streaming between the spires like blood cells in veins.\n\nINT. THE LIMINAL - COCKPIT - CONTINUOUS\n\nKael grips the flight controls. The ship handles differently in atmosphere--heavier, more resistant.\n\nOutside the viewport: the city ERUPTS around him.\n\nThe NOISE is overwhelming. His comm system picks up ambient traffic--a dozen frequencies bleeding into each other:\n\nTRAFFIC CONTROL (V.O.)\n(overlapping)\n--vector three-seven, adjust heading--\n\nADVERTISEMENT (V.O.)\n(bleeding through)\n--limited time offer, neural bandwidth upgrade--\n\nPILOT 2 (V.O.)\n--fucking traffic, every goddamn day--\n\nADVERTISEMENT 2 (V.O.)\n--are you living your authentic life? Take the Authenticity Index--\n\nKael mutes everything he can. The silence is only partial. Some signals force their way through.\n\nLIMINAL (V.O.)\nAssigned landing zone: Lower District Temporary Berth 7. Duration limited to 72 hours without extension fee.\n\nKAEL\nFine.\n\nHe guides the ship down, down, down--past the gleaming upper levels, past the mid-tier residential towers, into the LOWER DISTRICTS where the buildings are older, denser, more worn.\n\nThe light changes. The LED billboards thin out. Older technology. Cheaper real estate.\n\nHome. Or what passes for it.\n\nEXT. NEW FRANCISCO - LOWER DISTRICT - LANDING PAD - DUSK\n\nThe Liminal touches down on a scarred landing pad. The surrounding area is a maze of apartment blocks, commercial structures, and infrastructure that was state-of-the-art two decades ago.\n\nGROUND-LEVEL BOTS scurry past--cleaning units, security drones, delivery machines. People move between them, heads down, eyes on personal displays projected from wrist units or glasses.\n\nNo one looks at the ship. No one looks at anything.\n\nINT. THE LIMINAL - AIRLOCK - CONTINUOUS\n\nKael stands at the door. Ready to step out.\n\nHe hesitates.\n\nLIMINAL (V.O.)\nExternal conditions: Breathable atmosphere with elevated particulate levels. Temperature: 23 Celsius. Humidity: 68%. Air quality advisory in effect.\n\nHe doesn't care about any of that. It's not the air that makes him hesitate.\n\nHe touches the bracelet on his wrist. Checks his sidearm. Takes a breath.\n\nOpens the door.\n\nEXT. NEW FRANCISCO - LOWER DISTRICT - LANDING PAD - CONTINUOUS\n\nKael steps out.\n\nThe ASSAULT is immediate.\n\nSOUND: Traffic. Voices. Music bleeding from storefronts. Advertisements. Sirens in the distance. The hum of a thousand machines. The never-ending PULSE of a city that never stops.\n\nSMELL: Exhaust. Synthetic food. Rain on hot pavement. A chemical sweetness that might be perfume or might be pollution.\n\nSIGHT: People EVERYWHERE. Packed onto sidewalks. Spilling out of buildings. Moving in streams and eddies around obstacles. All of them looking at screens. All of them somewhere else.\n\nKael stands very still.\n\nA PEDESTRIAN bumps into him, doesn't apologize, keeps walking, eyes never leaving their wrist display.\n\nAnother pedestrian. Another. Everyone walking blind, trusting their peripheral vision.\n\nKael starts walking. His body language is WRONG here. Too much space around his movements. Too much awareness of his surroundings. He looks like what he is--an outsider.\n\nA BEGGAR reaches toward him from a doorway. Kael sidesteps without acknowledgment. The beggar doesn't seem to notice.\n\nThe NOISE is worse than he remembered. Speakers on every corner. Music bleeding from storefronts. A hundred conversations layered on top of each other.\n\nFrom a storefront speaker, a PODCAST bleeds into the street:\n\nPODCAST HOST (V.O.)\n--and that's exactly what they want you to think. The moderates are the real extremists, because they enable--\n\nFrom another direction, an AD plays on loop:\n\nADVERTISEMENT (V.O.)\nThey said I could trust them! Don't make my mistake. TrustVer--because in a world of deep fakes, you deserve to know what's real.\n\nKael reaches into his jacket. Pulls out a pair of NOISE-CANCELLING HEADPHONES. Old model, well-worn. He puts them on.\n\nThe world goes QUIET.\n\nBROWN NOISE fills his ears--the steady, familiar hum. Like The Liminal's systems. Like home.\n\nHe walks faster. The chaos continues around him, but he's insulated now. Safe in his bubble.\n\nHe passes a STREET PREACHER on a corner, mouth moving silently--Kael can't hear a word. The preacher gestures wildly at nothing. Nobody's listening. Bots clean around his feet without slowing.\n\nKael turns down a side street. Narrower. Darker. The buildings press closer. Fire escapes zigzag overhead. LAUNDRY hangs from windows. The first signs of actual human habitation.\n\nHe checks his wrist unit. A MAP displays. Destination highlighted.\n\nKAEL\n(quiet)\nThree more blocks.\n\nHe keeps moving.\n\nEXT. NEW FRANCISCO - TENDERLOIN DISTRICT - MARCUS'S BUILDING - NIGHT\n\nThe address.\n\nA residential tower, maybe fifteen stories. Old but maintained. The kind of place working people live--too poor to leave, too stable to fall further.\n\nKael stands across the street, looking up.\n\nTHIRD FLOOR. The window of Marcus's unit is BLACKENED. Scorch marks spread up the exterior like fingers reaching toward the sky. A section of wall is MISSING--exposed framework, charred insulation.\n\nThe surrounding windows are intact. Other units undamaged. The fire was contained. Or targeted.\n\nCAUTION TAPE hangs from the building entrance. Yellow. Official. But one strip has been CUT--recently, from the clean edge.\n\nSomeone's been here.\n\nKael removes his headphones. Lets them hang around his neck. He needs to hear now.\n\nKael checks his surroundings. The street is sparse--a few pedestrians, none paying attention. A FOOD VENDOR packing up for the night. A DRONE passing overhead, sweeping the area with a spotlight before moving on.\n\nHe crosses the street.\n\nINT. MARCUS'S BUILDING - LOBBY - CONTINUOUS\n\nThe lobby is small and worn. A SECURITY DESK sits empty--the screen showing a maintenance notice. \"Guard station unstaffed during off-hours. All visitors must register via mobile app.\"\n\nKael doesn't register. He walks past, toward the elevators.\n\nOne elevator is OUT OF SERVICE--taped off. The other is working. He takes it.\n\nINT. MARCUS'S BUILDING - ELEVATOR - CONTINUOUS\n\nKael stands alone as the car rises. His reflection in the polished metal door--a stranger in a strange land.\n\nThe elevator PINGS. Third floor.\n\nINT. MARCUS'S BUILDING - THIRD FLOOR HALLWAY - CONTINUOUS\n\nThe doors open. The SMELL hits first.\n\nBurnt plastic. Charred wood. The lingering chemical bite of fire suppressant. Under it all, something organic. Something wrong.\n\nKael steps out.\n\nThe hallway is dimly lit--half the fixtures dead, casualties of the fire. SOOT stains the walls near Marcus's unit. The carpet is discolored, water-damaged.\n\nMarcus's door is at the end.\n\nIt's OPEN. The frame warped, the lock mechanism melted into uselessness. More caution tape--cut, hanging loose.\n\nKael draws his sidearm. Moves quietly.\n\nHe reaches the doorway. Listens.\n\nVOICES inside. Low. Professional.\n\nVOICE 1 (O.S.)\n(filtered through tactical mask)\nNegative on the desk. Already cleared.\n\nVOICE 2 (O.S.)\nCheck the vents. These places always have dead space.\n\nKael edges closer. Looks through the gap.\n\nINT. MARCUS'S APARTMENT - CONTINUOUS\n\nThe apartment is DESTROYED. Fire damage everywhere--walls black, furniture melted or collapsed, ceiling panels hanging loose. Water damage has made the floor treacherous.\n\nTWO FIGURES move through the wreckage. They wear TACTICAL GEAR--black, armored, professional. Not police. Not official. PRIVATE CONTRACTORS. Their movements are efficient, coordinated. Military training.\n\nThey're SEARCHING. One pulls at a vent cover. The other sweeps a handheld scanner over the remains of what was once a bookshelf.\n\nCONTRACTOR 1 is taller, leaner. CONTRACTOR 2 is broader, moves with a slight limp.\n\nOn the floor around them: EVIDENCE BAGS. They're collecting things. Or looking for something specific.\n\nKael watches. His mind races.\n\nThe contractors are thorough but frustrated. They haven't found what they're looking for.\n\nKael's eyes scan the room. The layout is visible despite the damage--living area, kitchenette, doorway to what must have been a bedroom. Personal effects reduced to ash and fragments.\n\nThen he sees it.\n\nOn a WARPED SHELF near where a bathroom once was--half-melted, discolored, but intact--a small PLASTIC CASE. Rectangular. Hinged.\n\nA contact lens holder.\n\nKael freezes. Marcus didn't wear contacts. Marcus wore glasses--big frames, didn't care how they looked.\n\nFLASHBACK - QUICK:\n\nKAEL (V.O.)\n(from an old message, teasing)\nGot you something. Contacts would suit you better. Make you look less like someone's grandfather.\n\nMARCUS'S VOICE (V.O.)\n(dry)\nIt's a contact lens case.\n\nKAEL (V.O.)\nIt's a data key. Shaped like a contact lens case. Press it, tap it, access everything. For when you finally join the modern age.\n\nMARCUS'S VOICE (V.O.)\n(laughing)\nAsshole.\n\nBACK TO PRESENT:\n\nKael's jaw tightens. He gave Marcus that key as a joke. Years ago. And Marcus kept it. Used it.\n\nThat case isn't holding lenses. Press it with thumb pressure--NFC clicks on. Tap to access.\n\nContractor 2 turns. His scanner sweeps toward Kael's position.\n\nCONTRACTOR 2\nHold.\n\nHe raises his weapon. Points it directly at the doorway.\n\nCONTRACTOR 2 (CONT'D)\nWe've got company.\n\nTime slows.\n\nKael MOVES.\n\nINT. MARCUS'S APARTMENT - CONTINUOUS - ACTION SEQUENCE\n\nGUNFIRE ERUPTS.\n\nKael dives RIGHT as Contractor 2's first shot SPLINTERS the door frame where his head was. He hits the floor, rolls behind the remains of a collapsed couch.\n\nCONTRACTOR 1 opens fire--suppressed automatic weapon, professional groupings. Rounds PUNCH through the couch material, narrowly missing Kael.\n\nKael returns fire--two controlled shots. Contractor 1 is CLIPPED in the shoulder, staggers back but stays up. Body armor.\n\nCONTRACTOR 2\n(into comm)\nContact engaged. Third floor. Single hostile.\n\nKael is outgunned. He knows it. Two on one, better equipped, body armor.\n\nHe needs that case.\n\nHe VAULTS over the couch, sprinting low across the burned-out room. Rounds CRACK past him. One grazes his jacket sleeve.\n\nContractor 1 is tracking him, adjusting aim--\n\nKael THROWS a piece of debris. It catches Contractor 1 in the visor--not damaging, but disorienting for a half-second.\n\nThat's enough.\n\nKael reaches the shelf. GRABS the contact lens case. Shoves it in his pocket.\n\nCONTRACTOR 2\nHe's got it! STOP HIM!\n\nKael spins. The bathroom--what's left of it--has a VENT ACCESS near the ceiling. He's already moving.\n\nHe LEAPS, catches the edge of the vent, PULLS himself up as gunfire SHREDS the wall below him.\n\nINT. MARCUS'S BUILDING - VENTILATION SHAFT - CONTINUOUS\n\nKael crawls. Fast. The space is tight--barely wide enough for his shoulders. The metal groans under his weight.\n\nBehind him, SHOUTING. The contractors trying to follow or cut him off.\n\nCONTRACTOR 1 (O.S.)\n(muffled)\nThird floor vents connect to the stairwell!\n\nKael reaches a junction. Chooses left. Crawls faster.\n\nThe shaft ENDS at another vent cover. He can see through the slats--a HALLWAY. Different floor. Maybe second.\n\nHe KICKS the cover out. Drops through.\n\nINT. MARCUS'S BUILDING - SECOND FLOOR HALLWAY - CONTINUOUS\n\nKael lands hard, rolls, comes up running.\n\nThe hallway is residential--doors on both sides. A few are OPEN, residents peering out at the noise. An OLD MAN in a bathrobe. A YOUNG WOMAN with a child on her hip.\n\nKAEL\n(as he runs)\nGet inside. Lock your doors.\n\nThey stare. He's gone before they can respond.\n\nSTAIRWELL. He hits the door, takes the stairs UP--not down. Counterintuitive. Better.\n\nINT. MARCUS'S BUILDING - STAIRWELL - CONTINUOUS\n\nKael climbs. His breath is controlled--spacer fitness, years of maintaining himself in low gravity. His legs burn but they don't fail him.\n\nBELOW: boots on metal. The contractors are in the stairwell.\n\nCONTRACTOR 2 (O.S.)\nHe's going up!\n\nCONTRACTOR 1 (O.S.)\nCut him off on five!\n\nKael reaches the FOURTH FLOOR door. Opens it. Closes it loudly.\n\nBut doesn't go through. He waits.\n\nFOOTSTEPS pound past, going up.\n\nHe slips back into the stairwell. Goes DOWN.\n\nINT. MARCUS'S BUILDING - FIRST FLOOR - CONTINUOUS\n\nKael emerges into a service corridor. Basement access, utility rooms, a back exit.\n\nHe takes the EXIT.\n\nEXT. MARCUS'S BUILDING - ALLEY - CONTINUOUS\n\nThe alley is narrow, dark, lined with refuse processors and recycling units. The smell is overwhelming.\n\nKael moves fast but not running. Running draws attention. He walks with purpose, keeping to shadows.\n\nHe reaches the street. Turns right. Away from the building.\n\nSIRENS begin in the distance. Getting closer.\n\nHe walks faster.\n\nEXT. NEW FRANCISCO - TENDERLOIN DISTRICT - SIDE STREETS - CONTINUOUS\n\nKael navigates the maze of side streets. Taking turns at random. Putting distance between himself and the scene.\n\nThe streets are emptier here--late night, residential, working-class neighborhood asleep or pretending to be. The occasional drone passes overhead. He avoids their lights.\n\nHe stops. Listens. Nothing. No boots. No pursuit.\n\nKAEL\n(to himself)\nI think I've lost them.\n\nHe pulls his HEADPHONES back on. The brown noise returns--the safety, the cocoon. His shoulders drop slightly. The chaos of Earth muffled again.\n\nHe keeps moving. Faster now.\n\nA CORNER. He turns it, looking back over his shoulder--\n\nHe doesn't hear her footsteps. The headphones. The brown noise.\n\nCOLLISION.\n\nHis shoulder CONNECTS with someone's face. Hard.\n\nA WOMAN. She goes DOWN, hitting the pavement. Doesn't get up.\n\nKael stumbles, catches himself. Instinct screams RUN.\n\nHe takes three steps.\n\nStops.\n\nLooks back.\n\nShe's on the ground. Not moving. The streetlight here is flickering, half-dead.\n\nKael pulls off his headphones. The world comes rushing back--sirens, still distant. No immediate pursuit.\n\nHe goes back.\n\nShe's BREATHING. Just knocked out. Her face is turned away, hair covering her features.\n\nHe can't leave her here. If they find her, they'll question her. What did she see?\n\nHe grabs her under the arms. DRAGS her toward a doorway--an alcove, recessed, dark.\n\nKAEL\n(muttering)\nCome on...\n\nHe props her against the wall. She slumps but stays sitting. Still unconscious.\n\nHis hands check her for injuries. No blood. No obvious breaks. Just knocked cold.\n\nHe needs to see her face. Make sure she's stable. Make sure she isn't--\n\nHe pulls out his comm unit. Activates the light.\n\nAnd FREEZES.\n\nCLOSE ON: ELARA OYELARAN'S FACE\n\nThe same face as Marcus. Feminine. Softer. But the bone structure is identical. The eyes--closed now--are the same shape, the same set.\n\nMarcus's twin sister.\n\nFLASHBACK - QUICK:\n\nNEWS HEADLINE (V.O.)\n\"...Twin sister survived...\"\n\nBACK TO PRESENT:\n\nKael stares at her. His face cycles through something he hasn't felt in years--shock, recognition, a terrible understanding.\n\nKAEL\n(barely a whisper)\nElara.\n\nShe was coming here too. Looking for answers. Just like him.\n\nHe ran straight into her.\n\nHe closes his eyes. Opens them. This isn't coincidence. It can't be.\n\nSIRENS. Closer now. Much closer.\n\nKael looks up. Through the alcove opening, he can see the street beginning to FILL.\n\nNot just police.\n\nPARAMILITARY VEHICLES roll past. Heavy. Armored. TROOPS in tactical gear dismount and spread out.\n\nThis isn't a response. It's a SWEEP.\n\nEXT. NEW FRANCISCO - TENDERLOIN DISTRICT - STREET - CONTINUOUS\n\nThe crackdown begins.\n\nSOLDIERS move door to door. POUNDING. DEMANDING. Residents dragged into the street for processing.\n\nAn OLD MAN protests. He's STRUCK with a baton, forced to his knees.\n\nA FAMILY emerges, hands raised. CHILDREN CRYING. They're pushed against a wall, scanned, questioned.\n\nDRONES flood the airspace, spotlights sweeping the streets, scanning every face.\n\nShouts. Screams. The sounds of a neighborhood being torn apart.\n\nINT. ALCOVE - CONTINUOUS\n\nKael watches through a gap in the doorway.\n\nHis face is stone. But something flickers in his eyes--something old, something he thought he'd buried.\n\nThis is the Earth he left.\n\nThis is what it became.\n\nELARA stirs.\n\nKael turns. She's coming to. Her eyes flutter, trying to focus. Her hand goes to her head--pain.\n\nELARA\n(groggy)\nWh... what...\n\nHer eyes find Kael. A stranger. Crouched over her in the dark.\n\nHer face cycles through confusion -- pain -- fear -- rising panic.\n\nOutside: SIRENS. BOOTS. SCREAMING. The crackdown tearing the neighborhood apart.\n\nShe opens her mouth--\n\nSMASH CUT TO BLACK.\n\nSILENCE.\n\nHold on black for a long beat.\n\nThen -- distant, muffled -- the sounds of the crackdown continuing. Sirens. Shouts. A child crying somewhere.\n\nThe sounds fade.\n\nTITLE CARD:\n\nT E T H E R\n\nThe title holds. Then fades.\n\nBLACK.\n\nFADE OUT.\n\n\nEND OF EPISODE 1\n\n`,\n};\n\nexport default {\n  async fetch(request: Request): Promise<Response> {\n    const url = new URL(request.url);\n    const path = url.pathname;\n\n    // Route: /episode/:id\n    const episodeMatch = path.match(/^\\/episode\\/(\\d+)$/);\n    if (episodeMatch) {\n      const episodeNum = episodeMatch[1].padStart(2, '0');\n      const episode = EPISODES.find(e => e.slug === episodeNum);\n\n      if (!episode) {\n        return new Response('Episode not found', { status: 404 });\n      }\n\n      const fountainText = SCREENPLAYS[episode.file];\n      if (!fountainText) {\n        return new Response('Screenplay not found', { status: 404 });\n      }\n\n      const html = renderScreenplay(fountainText, episode, EPISODES);\n      return new Response(html, {\n        headers: { 'Content-Type': 'text/html; charset=utf-8' },\n      });\n    }\n\n    // Route: / - redirect to first episode\n    if (path === '/' || path === '') {\n      return Response.redirect(new URL('/episode/01', request.url).toString(), 302);\n    }\n\n    return new Response('Not found', { status: 404 });\n  },\n};\n\nfunction renderScreenplay(\n  fountainText: string,\n  currentEpisode: { slug: string; title: string },\n  allEpisodes: { slug: string; title: string }[]\n): string {\n  const fountain = new Fountain();\n  const script = fountain.parse(fountainText);\n\n  const currentIndex = allEpisodes.findIndex(e => e.slug === currentEpisode.slug);\n  const prevEpisode = currentIndex > 0 ? allEpisodes[currentIndex - 1] : null;\n  const nextEpisode = currentIndex < allEpisodes.length - 1 ? allEpisodes[currentIndex + 1] : null;\n\n  const themeCSS = generateAllThemesCSS();\n\n  return `<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n  <meta charset=\"UTF-8\">\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n  <title>${script.title || currentEpisode.title} - TETHER</title>\n  <style>\n    ${themeCSS}\n\n    :root {\n      --page-width: 8.5in;\n    }\n\n    * {\n      box-sizing: border-box;\n    }\n\n    body {\n      font-family: 'Courier New', Courier, monospace;\n      font-size: 12pt;\n      line-height: 1.5;\n      background-color: var(--bg);\n      color: var(--text);\n      margin: 0;\n      padding: 0;\n      transition: background-color 0.2s, color 0.2s;\n    }\n\n    .header {\n      position: fixed;\n      top: 0;\n      left: 0;\n      right: 0;\n      padding: 15px 20px;\n      background: linear-gradient(to bottom, var(--bg) 0%, var(--bg) 70%, transparent 100%);\n      z-index: 100;\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      transition: background 0.2s;\n    }\n\n    .header-title {\n      font-weight: bold;\n      color: var(--text-dim);\n      font-size: 14px;\n      letter-spacing: 2px;\n      flex: 1;\n    }\n\n    .header-title:last-child {\n      text-align: right;\n    }\n\n    .theme-toggle {\n      background: none;\n      border: none;\n      cursor: pointer;\n      padding: 8px;\n      color: var(--text-dim);\n      transition: color 0.2s;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n    }\n\n    .theme-toggle:hover {\n      color: var(--text);\n    }\n\n    .theme-toggle svg {\n      display: block;\n    }\n\n    /* Show appropriate icon based on theme */\n    .icon-sun { display: none; }\n    .icon-moon { display: block; }\n    [data-theme=\"light\"] .icon-sun { display: block; }\n    [data-theme=\"light\"] .icon-moon { display: none; }\n\n    .screenplay-container {\n      max-width: var(--page-width);\n      margin: 0 auto;\n      padding: 80px 1in 120px 1in;\n    }\n\n    /* Title page */\n    .title-page {\n      text-align: center;\n      padding: 2in 0;\n      margin-bottom: 2em;\n      border-bottom: 1px solid var(--border);\n    }\n\n    .title-page h1 {\n      font-size: 24pt;\n      font-weight: bold;\n      text-transform: uppercase;\n      letter-spacing: 4px;\n      margin: 0 0 1em 0;\n    }\n\n    .title-page p {\n      margin: 0.5em 0;\n      color: var(--text-dim);\n    }\n\n    /* Script elements */\n    .script {\n      white-space: pre-wrap;\n    }\n\n    .scene-heading {\n      font-weight: bold;\n      text-transform: uppercase;\n      margin-top: 2em;\n      margin-bottom: 1em;\n    }\n\n    .action {\n      margin: 1em 0;\n    }\n\n    .character {\n      margin-top: 1em;\n      margin-left: 2in;\n      text-transform: uppercase;\n      font-weight: bold;\n    }\n\n    .dialogue {\n      margin-left: 1in;\n      margin-right: 1.5in;\n      margin-bottom: 1em;\n    }\n\n    .parenthetical {\n      margin-left: 1.5in;\n      margin-right: 2in;\n      color: var(--text-dim);\n    }\n\n    .transition {\n      text-align: right;\n      text-transform: uppercase;\n      font-weight: bold;\n      margin: 2em 0;\n    }\n\n    .centered {\n      text-align: center;\n      margin: 2em 0;\n    }\n\n    .section-heading {\n      font-weight: bold;\n      margin-top: 2em;\n    }\n\n    .synopsis {\n      color: var(--text-dim);\n      font-style: italic;\n      margin: 1em 0;\n    }\n\n    .note {\n      background: var(--nav-bg);\n      padding: 0.5em 1em;\n      border-left: 2px solid var(--accent);\n      margin: 1em 0;\n      color: var(--text-dim);\n    }\n\n    .page-break {\n      border-top: 1px dashed var(--border);\n      margin: 3em 0;\n      text-align: center;\n      position: relative;\n    }\n\n    /* Navigation */\n    .nav-button {\n      position: fixed;\n      top: 50%;\n      transform: translateY(-50%);\n      background-color: var(--nav-bg);\n      color: var(--text-dim);\n      border: 1px solid var(--nav-border);\n      border-radius: 4px;\n      padding: 16px 10px;\n      cursor: pointer;\n      transition: all 0.2s;\n      text-decoration: none;\n      z-index: 100;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n    }\n\n    .nav-button:hover {\n      background-color: var(--nav-hover-bg);\n      color: var(--text);\n      border-color: var(--accent);\n    }\n\n    .nav-prev {\n      left: 20px;\n    }\n\n    .nav-next {\n      right: 20px;\n    }\n\n    /* Responsive */\n    @media (max-width: 768px) {\n      .screenplay-container {\n        padding: 80px 20px 120px 20px;\n      }\n\n      .character {\n        margin-left: 1in;\n      }\n\n      .dialogue {\n        margin-left: 0.5in;\n        margin-right: 0.5in;\n      }\n\n      .parenthetical {\n        margin-left: 0.75in;\n        margin-right: 0.75in;\n      }\n\n      .nav-button {\n        padding: 12px 8px;\n      }\n\n      .nav-prev {\n        left: 10px;\n      }\n\n      .nav-next {\n        right: 10px;\n      }\n    }\n\n    /* Print styles */\n    @media print {\n      body {\n        background: white !important;\n        color: black !important;\n      }\n\n      .header, .nav-button {\n        display: none !important;\n      }\n\n      .screenplay-container {\n        padding: 0;\n        max-width: none;\n      }\n    }\n  </style>\n  <script>\n    // Apply theme immediately to prevent flash\n    (function() {\n      const saved = localStorage.getItem('tether-theme');\n      if (saved) {\n        document.documentElement.setAttribute('data-theme', saved);\n      }\n    })();\n  </script>\n</head>\n<body>\n  <div class=\"header\">\n    <span class=\"header-title\">TETHER</span>\n    <button class=\"theme-toggle\" id=\"theme-toggle\" aria-label=\"Toggle theme\">\n      <span class=\"icon-sun\">${icons.sun}</span>\n      <span class=\"icon-moon\">${icons.moon}</span>\n    </button>\n    <span class=\"header-title\">${currentEpisode.title.toUpperCase()}</span>\n  </div>\n\n  <div class=\"screenplay-container\">\n    <div class=\"title-page\">\n      ${script.html.title_page}\n    </div>\n    <div class=\"script\">\n      ${script.html.script}\n    </div>\n  </div>\n\n  ${prevEpisode ? `<a href=\"/episode/${prevEpisode.slug}\" class=\"nav-button nav-prev\">${icons.chevronLeft}</a>` : ''}\n  ${nextEpisode ? `<a href=\"/episode/${nextEpisode.slug}\" class=\"nav-button nav-next\">${icons.chevronRight}</a>` : ''}\n\n  <script>\n    // Theme toggle\n    const toggle = document.getElementById('theme-toggle');\n    toggle.addEventListener('click', () => {\n      const current = document.documentElement.getAttribute('data-theme') || 'dark';\n      const next = current === 'dark' ? 'light' : 'dark';\n      document.documentElement.setAttribute('data-theme', next);\n      localStorage.setItem('tether-theme', next);\n    });\n\n    // Keyboard navigation\n    document.addEventListener('keydown', (e) => {\n      if (e.key === 'ArrowLeft') {\n        const prev = document.querySelector('.nav-prev');\n        if (prev) window.location.href = prev.href;\n      } else if (e.key === 'ArrowRight') {\n        const next = document.querySelector('.nav-next');\n        if (next) window.location.href = next.href;\n      }\n    });\n  </script>\n</body>\n</html>`;\n}\n", "import type { Middleware } from \"./common\";\n\nconst drainBody: Middleware = async (request, env, _ctx, middlewareCtx) => {\n\ttry {\n\t\treturn await middlewareCtx.next(request, env);\n\t} finally {\n\t\ttry {\n\t\t\tif (request.body !== null && !request.bodyUsed) {\n\t\t\t\tconst reader = request.body.getReader();\n\t\t\t\twhile (!(await reader.read()).done) {}\n\t\t\t}\n\t\t} catch (e) {\n\t\t\tconsole.error(\"Failed to drain the unused request body.\", e);\n\t\t}\n\t}\n};\n\nexport default drainBody;\n", "import type { Middleware } from \"./common\";\n\ninterface JsonError {\n\tmessage?: string;\n\tname?: string;\n\tstack?: string;\n\tcause?: JsonError;\n}\n\nfunction reduceError(e: any): JsonError {\n\treturn {\n\t\tname: e?.name,\n\t\tmessage: e?.message ?? String(e),\n\t\tstack: e?.stack,\n\t\tcause: e?.cause === undefined ? undefined : reduceError(e.cause),\n\t};\n}\n\n// See comment in `bundle.ts` for details on why this is needed\nconst jsonError: Middleware = async (request, env, _ctx, middlewareCtx) => {\n\ttry {\n\t\treturn await middlewareCtx.next(request, env);\n\t} catch (e: any) {\n\t\tconst error = reduceError(e);\n\t\treturn Response.json(error, {\n\t\t\tstatus: 500,\n\t\t\theaders: { \"MF-Experimental-Error-Stack\": \"true\" },\n\t\t});\n\t}\n};\n\nexport default jsonError;\n", "\t\t\t\timport worker, * as OTHER_EXPORTS from \"/Users/andy/projects/tether/web/dist/worker.ts\";\n\t\t\t\timport * as __MIDDLEWARE_0__ from \"/Users/andy/projects/tether/web/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts\";\nimport * as __MIDDLEWARE_1__ from \"/Users/andy/projects/tether/web/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts\";\n\n\t\t\t\texport * from \"/Users/andy/projects/tether/web/dist/worker.ts\";\n\t\t\t\tconst MIDDLEWARE_TEST_INJECT = \"__INJECT_FOR_TESTING_WRANGLER_MIDDLEWARE__\";\n\t\t\t\texport const __INTERNAL_WRANGLER_MIDDLEWARE__ = [\n\t\t\t\t\t\n\t\t\t\t\t__MIDDLEWARE_0__.default,__MIDDLEWARE_1__.default\n\t\t\t\t]\n\t\t\t\texport default worker;", "export type Awaitable<T> = T | Promise<T>;\n// TODO: allow dispatching more events?\nexport type Dispatcher = (\n\ttype: \"scheduled\",\n\tinit: { cron?: string }\n) => Awaitable<void>;\n\nexport type IncomingRequest = Request<\n\tunknown,\n\tIncomingRequestCfProperties<unknown>\n>;\n\nexport interface MiddlewareContext {\n\tdispatch: Dispatcher;\n\tnext(request: IncomingRequest, env: any): Awaitable<Response>;\n}\n\nexport type Middleware = (\n\trequest: IncomingRequest,\n\tenv: any,\n\tctx: ExecutionContext,\n\tmiddlewareCtx: MiddlewareContext\n) => Awaitable<Response>;\n\nconst __facade_middleware__: Middleware[] = [];\n\n// The register functions allow for the insertion of one or many middleware,\n// We register internal middleware first in the stack, but have no way of controlling\n// the order that addMiddleware is run in service workers so need an internal function.\nexport function __facade_register__(...args: (Middleware | Middleware[])[]) {\n\t__facade_middleware__.push(...args.flat());\n}\nexport function __facade_registerInternal__(\n\t...args: (Middleware | Middleware[])[]\n) {\n\t__facade_middleware__.unshift(...args.flat());\n}\n\nfunction __facade_invokeChain__(\n\trequest: IncomingRequest,\n\tenv: any,\n\tctx: ExecutionContext,\n\tdispatch: Dispatcher,\n\tmiddlewareChain: Middleware[]\n): Awaitable<Response> {\n\tconst [head, ...tail] = middlewareChain;\n\tconst middlewareCtx: MiddlewareContext = {\n\t\tdispatch,\n\t\tnext(newRequest, newEnv) {\n\t\t\treturn __facade_invokeChain__(newRequest, newEnv, ctx, dispatch, tail);\n\t\t},\n\t};\n\treturn head(request, env, ctx, middlewareCtx);\n}\n\nexport function __facade_invoke__(\n\trequest: IncomingRequest,\n\tenv: any,\n\tctx: ExecutionContext,\n\tdispatch: Dispatcher,\n\tfinalMiddleware: Middleware\n): Awaitable<Response> {\n\treturn __facade_invokeChain__(request, env, ctx, dispatch, [\n\t\t...__facade_middleware__,\n\t\tfinalMiddleware,\n\t]);\n}\n", "// This loads all middlewares exposed on the middleware object and then starts\n// the invocation chain. The big idea is that we can add these to the middleware\n// export dynamically through wrangler, or we can potentially let users directly\n// add them as a sort of \"plugin\" system.\n\nimport ENTRY, { __INTERNAL_WRANGLER_MIDDLEWARE__ } from \"/Users/andy/projects/tether/web/.wrangler/tmp/bundle-AC2AHR/middleware-insertion-facade.js\";\nimport { __facade_invoke__, __facade_register__, Dispatcher } from \"/Users/andy/projects/tether/web/node_modules/wrangler/templates/middleware/common.ts\";\nimport type { WorkerEntrypointConstructor } from \"/Users/andy/projects/tether/web/.wrangler/tmp/bundle-AC2AHR/middleware-insertion-facade.js\";\n\n// Preserve all the exports from the worker\nexport * from \"/Users/andy/projects/tether/web/.wrangler/tmp/bundle-AC2AHR/middleware-insertion-facade.js\";\n\nclass __Facade_ScheduledController__ implements ScheduledController {\n\treadonly #noRetry: ScheduledController[\"noRetry\"];\n\n\tconstructor(\n\t\treadonly scheduledTime: number,\n\t\treadonly cron: string,\n\t\tnoRetry: ScheduledController[\"noRetry\"]\n\t) {\n\t\tthis.#noRetry = noRetry;\n\t}\n\n\tnoRetry() {\n\t\tif (!(this instanceof __Facade_ScheduledController__)) {\n\t\t\tthrow new TypeError(\"Illegal invocation\");\n\t\t}\n\t\t// Need to call native method immediately in case uncaught error thrown\n\t\tthis.#noRetry();\n\t}\n}\n\nfunction wrapExportedHandler(worker: ExportedHandler): ExportedHandler {\n\t// If we don't have any middleware defined, just return the handler as is\n\tif (\n\t\t__INTERNAL_WRANGLER_MIDDLEWARE__ === undefined ||\n\t\t__INTERNAL_WRANGLER_MIDDLEWARE__.length === 0\n\t) {\n\t\treturn worker;\n\t}\n\t// Otherwise, register all middleware once\n\tfor (const middleware of __INTERNAL_WRANGLER_MIDDLEWARE__) {\n\t\t__facade_register__(middleware);\n\t}\n\n\tconst fetchDispatcher: ExportedHandlerFetchHandler = function (\n\t\trequest,\n\t\tenv,\n\t\tctx\n\t) {\n\t\tif (worker.fetch === undefined) {\n\t\t\tthrow new Error(\"Handler does not export a fetch() function.\");\n\t\t}\n\t\treturn worker.fetch(request, env, ctx);\n\t};\n\n\treturn {\n\t\t...worker,\n\t\tfetch(request, env, ctx) {\n\t\t\tconst dispatcher: Dispatcher = function (type, init) {\n\t\t\t\tif (type === \"scheduled\" && worker.scheduled !== undefined) {\n\t\t\t\t\tconst controller = new __Facade_ScheduledController__(\n\t\t\t\t\t\tDate.now(),\n\t\t\t\t\t\tinit.cron ?? \"\",\n\t\t\t\t\t\t() => {}\n\t\t\t\t\t);\n\t\t\t\t\treturn worker.scheduled(controller, env, ctx);\n\t\t\t\t}\n\t\t\t};\n\t\t\treturn __facade_invoke__(request, env, ctx, dispatcher, fetchDispatcher);\n\t\t},\n\t};\n}\n\nfunction wrapWorkerEntrypoint(\n\tklass: WorkerEntrypointConstructor\n): WorkerEntrypointConstructor {\n\t// If we don't have any middleware defined, just return the handler as is\n\tif (\n\t\t__INTERNAL_WRANGLER_MIDDLEWARE__ === undefined ||\n\t\t__INTERNAL_WRANGLER_MIDDLEWARE__.length === 0\n\t) {\n\t\treturn klass;\n\t}\n\t// Otherwise, register all middleware once\n\tfor (const middleware of __INTERNAL_WRANGLER_MIDDLEWARE__) {\n\t\t__facade_register__(middleware);\n\t}\n\n\t// `extend`ing `klass` here so other RPC methods remain callable\n\treturn class extends klass {\n\t\t#fetchDispatcher: ExportedHandlerFetchHandler<Record<string, unknown>> = (\n\t\t\trequest,\n\t\t\tenv,\n\t\t\tctx\n\t\t) => {\n\t\t\tthis.env = env;\n\t\t\tthis.ctx = ctx;\n\t\t\tif (super.fetch === undefined) {\n\t\t\t\tthrow new Error(\"Entrypoint class does not define a fetch() function.\");\n\t\t\t}\n\t\t\treturn super.fetch(request);\n\t\t};\n\n\t\t#dispatcher: Dispatcher = (type, init) => {\n\t\t\tif (type === \"scheduled\" && super.scheduled !== undefined) {\n\t\t\t\tconst controller = new __Facade_ScheduledController__(\n\t\t\t\t\tDate.now(),\n\t\t\t\t\tinit.cron ?? \"\",\n\t\t\t\t\t() => {}\n\t\t\t\t);\n\t\t\t\treturn super.scheduled(controller);\n\t\t\t}\n\t\t};\n\n\t\tfetch(request: Request<unknown, IncomingRequestCfProperties>) {\n\t\t\treturn __facade_invoke__(\n\t\t\t\trequest,\n\t\t\t\tthis.env,\n\t\t\t\tthis.ctx,\n\t\t\t\tthis.#dispatcher,\n\t\t\t\tthis.#fetchDispatcher\n\t\t\t);\n\t\t}\n\t};\n}\n\nlet WRAPPED_ENTRY: ExportedHandler | WorkerEntrypointConstructor | undefined;\nif (typeof ENTRY === \"object\") {\n\tWRAPPED_ENTRY = wrapExportedHandler(ENTRY);\n} else if (typeof ENTRY === \"function\") {\n\tWRAPPED_ENTRY = wrapWorkerEntrypoint(ENTRY);\n}\nexport default WRAPPED_ENTRY;\n"],
  "mappings": "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AA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AA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",
  "names": []
}
